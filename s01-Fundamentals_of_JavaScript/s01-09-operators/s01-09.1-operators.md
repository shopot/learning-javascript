# Операторы

> Они называются операторами, потому что мы используем их, чтобы _**оперировать**_
переменными.

## Арифметические операторы

Арифметические операторы могут использоваться для выполнения операций
с числами. Большинство из них это базовая математика, с которой вы уже сталкивались раньше

### Сложение

Для этой операции используется оператор `+`.

```javascript
let nr1 = 12;
let nr2 = 14;
let result1 = nr1 + nr2;

// 26
```

Этот оператор также может быть очень полезен для объединения строк.

```javascript
let str1 = "Hello";
let str2 = "addition";
let result2 = str1 + " " + str2

// Hello addition
```

### Вычитание

Для этого действия используется оператор `-`.

```javascript
let nr1 = 20;
let nr2 = 4;
let str1 = "Hi";
let nr3 = 3;
let result1 = nr1 - nr2;
let result2 = str1 - nr3;
console.log(result1, result2);

// 16 NaN
```

Первый результат — число 16. А второй результат намного более интересен.
NaN не ошибка: это просто заключение, что результат вычитания числа из строки
не является числом. 

### Умножение

Для этого действия используется оператор `*`. 
Умножать можно только числа.

Результатом умножения числового и нечислового значений является NaN:

```javascript
let nr1 = 15;
let nr2 = 10;
let str1 = "Hi";
let nr3 = 3;
let result1 = nr1 * nr2;
let result2 = str1 * nr3;
console.log(result1, result2);

// 150 NaN
```

### Деление 

Для этого действия используется оператор `/`. 

```javascript
let nr1 = 30;
let nr2 = 5;
let result1 = nr1 / nr2;
console.log(result1);

// 6
```

### Возведение в степень

Возведение в степень означает возведение определенного базового числа в степень
экспоненты, например xy (произносится как «возведение x в степень y»). Это значит, что x будет умножено само на себя y раз. Чтобы возвести число в степень
в JavaScript, используем `**` для вызова оператора:

```javascript
let nr1 = 2;
let nr2 = 3;
let result1 = nr1 ** nr2;
console.log(result1);

// 8
```

### Оператор деления по модулю

Модуль — это операция, определяющая остаток после полного деления одного числа на другое. 
Количество раз, которое одно число может поместиться в другое, здесь не имеет значения — результатом будет
остаток. Для вызова оператора используется символ `%`. 

```javascript
let nr1 = 10;
let nr2 = 3;
let result1 = nr1 % nr2;
console.log(`${nr1} % ${nr2} = ${result1}`);

let nr3 = 8;
let nr4 = 2;
let result2 = nr3 % nr4;
console.log(`${nr3} % ${nr4} = ${result2}`);

let nr5 = 15;
let nr6 = 4;
let result3 = nr5 % nr6;
console.log(`${nr5} % ${nr6} = ${result3}`);

// 10 % 3 = 1
// 8 % 2 = 0
// 15 % 4 = 3
```

### Унарные операторы: инкремент и декремент

Здесь нам пригодится термин «операнд».
Операнд — то, к чему применяется оператор. Если мы пишем x + y, то x и y — это операнды.

Для данных операторов потребуется только один операнд — поэтому они также называются унарными операторами.

Если перед нами `x++`, то эту запись можно представить в виде `x = x + 1`. То же самое справедливо для оператора декремента:
`x--` принимает вид `x = x – 1`.

```javascript
let nr1 = 4;
nr1++;
console.log(nr1);

let nr2 = 4;
nr2--;
console.log(nr2);

// 5
// 3
```

### Операторы prefix и postfix

Инкремент может располагаться после операнда (`x++`), в таком случае он будет называться постфиксным унарным оператором. Он также может располагаться до
операнда (`++x`) — префиксный унарный оператор.

```javascript
let nr = 2;
console.log(nr++);
console.log(nr);

// 2
// 3
```

Префикс выполняется перед отправкой переменной, поэтому чаще всего используется именно он. 

```javascript
let nr = 2;
console.log(++nr);

// 3
```

Если вы можете определить, какие результаты следующих фрагментов кода логируются, то прекрасно, вы действительно разобрались в теме:

```javascript
let nr1 = 4;
let nr2 = 5;
let nr3 = 2;
console.log(nr1++ + ++nr2 * nr3++);
```

Чему будет равен результат? 

## Приоритеты операторы

Операции, заключенные в круглые скобки, имеют наивысший приоритет. После этого порядок операций
определяется в зависимости от их типа (сначала с наивысшим приоритетом). Если
операции имеют одинаковый приоритет, они выполняются слева направо.

### Таблица приоритетов операторов JavaScript

Приоритет операторов определяет порядок их выполнения в выражении. Чем выше приоритет, тем раньше оператор выполняется.

| **Приоритет** | **Оператор**                  | **Описание**                                                                 | **Пример**                     |
|--------------|-------------------------------|-----------------------------------------------------------------------------|--------------------------------|
| 21           | `()` (группировка)            | Выражения в скобках вычисляются первыми.                                    | `(2 + 3) * 4` → `20`          |
| 20           | `.` (доступ к свойству)       | Доступ к свойству объекта.                                                  | `obj.property`                 |
| 20           | `[]` (доступ по индексу)      | Доступ к элементу массива/объекта.                                          | `arr[0]`                       |
| 20           | `new` (с аргументами)         | Создание экземпляра объекта с вызовом конструктора.                         | `new Date()`                   |
| 19           | `()` (вызов функции)          | Вызов функции.                                                              | `func()`                       |
| 18           | `new` (без аргументов)        | Создание объекта без вызова конструктора.                                   | `new Object`                   |
| 17           | `++` (постфиксный инкремент)  | Увеличение значения после использования переменной.                         | `x++`                          |
| 17           | `--` (постфиксный декремент)  | Уменьшение значения после использования переменной.                         | `x--`                          |
| 16           | `!` (логическое НЕ)           | Логическое отрицание.                                                       | `!true` → `false`              |
| 16           | `~` (побитовое НЕ)            | Инверсия битов.                                                             | `~5` → `-6`                    |
| 16           | `+` (унарный плюс)            | Преобразует операнд в число.                                                | `+"5"` → `5`                   |
| 16           | `-` (унарный минус)           | Преобразует операнд в число и меняет знак.                                  | `-"3"` → `-3`                  |
| 16           | `++` (префиксный инкремент)   | Увеличение значения до использования переменной.                            | `++x`                          |
| 16           | `--` (префиксный декремент)   | Уменьшение значения до использования переменной.                            | `--x`                          |
| 16           | `typeof`                      | Возвращает тип операнда.                                                    | `typeof 42` → `"number"`       |
| 16           | `void`                        | Вычисляет выражение и возвращает `undefined`.                               | `void 0` → `undefined`         |
| 16           | `delete`                      | Удаляет свойство объекта.                                                   | `delete obj.x`                 |
| 15           | `**` (возведение в степень)   | Возведение в степень.                                                       | `2 ** 3` → `8`                 |
| 14           | `*` (умножение)               | Умножение.                                                                  | `2 * 3` → `6`                  |
| 14           | `/` (деление)                 | Деление.                                                                    | `6 / 2` → `3`                  |
| 14           | `%` (остаток от деления)      | Остаток от деления.                                                         | `7 % 3` → `1`                  |
| 13           | `+` (сложение)                | Сложение чисел или конкатенация строк.                                      | `"a" + "b"` → `"ab"`           |
| 13           | `-` (вычитание)               | Вычитание.                                                                  | `5 - 2` → `3`                  |
| 12           | `<<` (сдвиг влево)            | Побитовый сдвиг влево.                                                      | `4 << 1` → `8`                 |
| 12           | `>>` (сдвиг вправо)           | Побитовый сдвиг вправо с сохранением знака.                                 | `-8 >> 1` → `-4`               |
| 12           | `>>>` (беззнаковый сдвиг)     | Побитовый сдвиг вправо без учёта знака.                                    | `-8 >>> 1` → `2147483644`      |
| 11           | `<`, `<=`, `>`, `>=`          | Сравнение чисел/строк.                                                      | `3 < 5` → `true`               |
| 11           | `in`                          | Проверка наличия свойства в объекте.                                        | `"x" in obj`                   |
| 11           | `instanceof`                  | Проверка принадлежности к классу.                                           | `obj instanceof Array`         |
| 10           | `==` (нестрогое равенство)    | Сравнение с приведением типов.                                              | `"5" == 5` → `true`            |
| 10           | `!=` (нестрогое неравенство)  | Неравенство с приведением типов.                                            | `"5" != 4` → `true`            |
| 10           | `===` (строгое равенство)     | Сравнение без приведения типов.                                             | `"5" === 5` → `false`          |
| 10           | `!==` (строгое неравенство)   | Неравенство без приведения типов.                                           | `"5" !== 5` → `true`           |
| 9            | `&` (побитовое И)             | Побитовая операция И.                                                       | `5 & 3` → `1`                  |
| 8            | `^` (побитовое исключ. ИЛИ)   | Побитовая операция исключающего ИЛИ.                                        | `5 ^ 3` → `6`                  |
| 7            | `\|` (побитовое ИЛИ)          | Побитовая операция ИЛИ.                                                     | `5 \| 3` → `7`                 |
| 6            | `&&` (логическое И)           | Логическое И (возвращает первый `falsy` или последний операнд).             | `0 && 2` → `0`                 |
| 5            | `\|\|` (логическое ИЛИ)       | Логическое ИЛИ (возвращает первый `truthy` или последний операнд).          | `0 \|\| 2` → `2`               |
| 4            | `??` (оператор нул. слияния)  | Возвращает первый операнд, если не `null`/`undefined`.                      | `null ?? 5` → `5`              |
| 3            | `? :` (тернарный оператор)    | Условное выражение.                                                         | `x > 0 ? "yes" : "no"`         |
| 2            | `=` (присваивание)            | Присваивание значения.                                                      | `x = 5`                        |
| 2            | `+=`, `-=`, `*=`, `/=` и др.  | Комбинированные операторы присваивания.                                     | `x += 3` → `x = x + 3`         |
| 1            | `,` (запятая)                 | Последовательное выполнение операций, возвращает последнее значение.        | `(x=2, x+3)` → `5`             |

**Важные замечания:**

1. **Скобки `()` имеют наивысший приоритет** — их можно использовать для изменения порядка вычислений.
2. **Ассоциативность**:
  - Большинство операторов левоассоциативны (вычисляются слева направо), например: `a + b + c`.
  - Исключения: `**` (правоассоциативен), `=` (правоассоциативен), унарные операторы.

## Операторы присваивания

Каждый двоичный арифметический оператор имеет соответствующий оператор присваивания — так можно сделать написанный код
короче. 

Например, `x += 5` означает `x = x + 5`, а `x ** = 3` означает `x = x ** 3` (x в степени 3).


## Операторы сравнения

Операторы сравнения — это специальные символы в JavaScript, которые позволяют сравнивать значения между собой. В отличие от арифметических операторов, результатом сравнения всегда является логическое значение: `true` (истина) или `false` (ложь).

```javascript
console.log(5 > 3); // true
console.log(2 == "2"); // true
```

### Свободное равенство (==)

Оператор `==` (двойное равно) сравнивает значения с приведением типов:

```javascript
let x = 5;
let y = "5";
console.log(x == y); // true
```

**Как это работает:**

1. Если типы разные, JavaScript пытается преобразовать их к одному типу
2. Затем сравнивает полученные значения
3. Возвращает `true` или `false`

### Строгое равенство (===)

Оператор `===` (тройное равно) сравнивает и значения, и типы:

```javascript
let x = 5;
let y = "5";
console.log(x === y); // false
```

**Почему важно использовать ===:**

- Предсказуемость кода
- Избегание скрытых ошибок
- Ясность намерений программиста

### Свободное неравенство (!=)

```javascript
console.log(5 != "5"); // false
console.log(5 != 6); // true
```

### Строгое неравенство (!==)

```javascript
console.log(5 !== "5"); // true
console.log(5 !== 5); // false
```

### Операторы больше/меньше

| Оператор | Название               | Пример     | Результат |
|----------|------------------------|------------|-----------|
| >        | Больше                 | 5 > 3      | true      |
| <        | Меньше                 | 5 < 3      | false     |
| >=       | Больше или равно       | 5 >= 5     | true      |
| <=       | Меньше или равно       | 5 <= 4     | false     |

**Особенности:**

- Сравнение строк происходит посимвольно по Unicode
- При сравнении разных типов происходит преобразование к числам

```javascript
console.log("10" > 9); // true
console.log("a" > "b"); // false
```

### Логическое И (&&)

Возвращает `true`, если оба операнда истинны:

```javascript
console.log(true && true); // true
console.log(true && false); // false
```

**Особенность:** возвращает первый ложный или последний истинный операнд

```javascript
console.log(0 && 2); // 0
console.log(1 && 2); // 2
```

### Логическое ИЛИ (||)

Возвращает `true`, если хотя бы один операнд истинный:

```javascript
console.log(false || true); // true
console.log(false || false); // false
```

**Особенность:** возвращает первый истинный или последний операнд

```javascript
console.log(0 || 2); // 2
console.log(null || undefined); // undefined
```

### Логическое НЕ (!)

Инвертирует значение:

```javascript
console.log(!true); // false
console.log(!0); // true
```

### Особые случаи сравнения

1. **Сравнение с null и undefined:**
   ```javascript
   console.log(null == undefined); // true
   console.log(null === undefined); // false
   ```

2. **Сравнение NaN:**
   ```javascript
   console.log(NaN == NaN); // false
   console.log(isNaN(NaN)); // true
   ```

3. **Сравнение объектов:**
   ```javascript
   let obj1 = {}, obj2 = {};
   console.log(obj1 == obj2); // false
   ```

**Практические рекомендации:**

- Всегда используйте `===` вместо `==`, если нет особой причины делать иначе
- Для проверки на `NaN` используйте `isNaN()` или `Number.isNaN()`
- Помните о преобразовании типов при сравнении разных типов
- Для сложных условий используйте скобки для ясности:
   ```javascript
   if ((age > 18 && hasLicense) || isTestMode) { ... }
   ```
