# Методы и свойства классов

Добро пожаловать в мир объектно-ориентированного программирования (ООП) в JavaScript! Классы — это мощный инструмент, который позволяет создавать упорядоченные и многократно используемые шаблоны для объектов. Давайте разберемся, как наполнить эти шаблоны жизнью с помощью методов и свойств.

## Что такое класс и зачем он нужен?

Представьте, что вы архитектор и рисуете чертеж дома. Сам чертеж — это еще не дом, но в нем описано, сколько в нем будет комнат, где будут двери и окна. Класс в JavaScript — это такой же чертеж для создания объектов.

С помощью класса `Person` мы можем создавать множество объектов-людей, каждый со своими именами и фамилиями, но все они будут иметь одинаковую структуру и возможности (например, все смогут представиться).

## Конструктор: рождение объекта

Первое, с чем мы сталкиваемся при создании класса, — это `constructor`. Это специальный метод, который автоматически вызывается при создании нового объекта с помощью ключевого слова `new`. Его задача — инициализировать объект, то есть задать его начальные свойства.

```javascript
class Person {
  constructor(firstname, lastname) {
    this.firstname = firstname;
    this.lastname = lastname;
  }
}
// Создаем объект (экземпляр класса) на основе чертежа
let person1 = new Person("Maaike", "van Putten");
```

Здесь `this` — это ключевое слово, которое ссылается на создаваемый объект. `this.firstname` означает "свойство `firstname` этого конкретного объекта".

## Методы: действия объекта

Объекты не просто хранят данные, они могут выполнять действия. Функции, объявленные внутри класса, называются **методами**. Они определяют поведение объекта.

**Важный синтаксический момент:** в классах не нужно использовать ключевое слово `function`.

```javascript
class Person {
  constructor(firstname, lastname) {
    this.firstname = firstname;
    this.lastname = lastname;
  }

  // Объявляем метод greet
  greet() {
    console.log("Hi there! I'm", this.firstname);
  }
  
  // Метод с параметрами
  compliment(name, object) {
    return "That's a wonderful " + object + ", " + name;
  }
}
```

**Как вызвать метод?** Очень просто — обратиться к нему через точку от имени объекта.

```javascript
let p = new Person("Maaike", "van Putten");
p.greet(); // Вызов метода greet для объекта p
// В консоли: "Hi there! I'm Maaike"

let niceWords = p.compliment("Harry", "hat");
console.log(niceWords); // "That's a wonderful hat, Harry"
```

Обратите внимание: метод `compliment` для своей работы использует внешние данные (параметры). А метод `greet` использует внутренние данные объекта (свойство `this.firstname`).

## Свойства: данные объекта

Данные, которые хранит объект (например, имя и фамилия), называются **свойствами** (или полями). В примере выше мы уже создавали свойства прямо в конструкторе, используя `this.propertyName = value`.

К этим свойствам можно получить прямой доступ извне:

```javascript
let p = new Person("Maria", "Saga");
console.log(p.firstname); // Прямой доступ к свойству
// В консоли: "Maria"
p.firstname = "Anna"; // Прямое изменение свойства
```

**В чем проблема прямого доступа?** Он нарушает один из главных принципов ООП — **инкапсуляцию**. Это принцип, согласно которому внутреннее состояние объекта должно быть защищено от прямого вмешательства извне. Объект должен сам контролировать свои данные.

Что, если мы хотим гарантировать, что все имена начинаются с буквы "M"? При прямом доступе кто-то может записать любое значение, и мы не сможем это проверить.

## Приватные свойства

Для решения этой проблемы в JavaScript существуют **приватные свойства**. Их главная особенность — к ним нельзя получить доступ или изменить их напрямую вне тела класса. Имена таких свойств должны начинаться с символа `#`.

```javascript
class Person {
  #firstname; // Объявление приватного поля
  #lastname;  // Объявление приватного поля

  constructor(firstname, lastname) {
    this.#firstname = firstname; // Использование приватного поля
    this.#lastname = lastname;   // Использование приватного поля
  }
}

let p = new Person("Maria", "Saga");
console.log(p.firstname); // undefined
console.log(p.#firstname); // ОШИБКА! SyntaxError
```

Теперь мы надежно спрятали данные внутри класса. Но как же их тогда читать и изменять? Для этого и придуманы геттеры и сеттеры, которые мы подробно рассмотрим в следующей статье.

## Итоги

- **Классы** — это чертежи для создания объектов с одинаковой структурой и поведением
- **Конструктор** — специальный метод для инициализации объектов
- **Методы** определяют действия, которые может выполнять объект
- **Свойства** хранят данные объекта
- **Приватные свойства** (с префиксом `#`) защищают данные от прямого доступа извне
- **Инкапсуляция** — важный принцип ООП, обеспечивающий контроль над данными объекта


