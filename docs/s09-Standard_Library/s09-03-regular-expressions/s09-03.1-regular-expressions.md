# Регулярные выражения в JavaScript

**Регулярные выражения** (или «регэкспы», от англ. *regular expressions*, *regexp*) — это мощный инструмент для работы с текстом по заданным шаблонам. Они могут показаться сложными и пугающими из-за своего синтаксиса, напоминающего случайный набор символов (`/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$/`), но, разобравшись с основами, вы откроете для себя один из самых полезных инструментов в арсенале разработчика.

## Что такое регулярное выражение?

Проще говоря, **регулярное выражение — это шаблон, который описывает набор строк**. Представьте, что вам нужно найти все слова «кофе» в большом тексте. Или проверить, что пользователь ввел email в правильном формате. Или заменить все повторяющиеся пробелы на одинарные. Для всех этих задач идеально подходят регулярные выражения.

Они являются стандартом во многих языках программирования, и JavaScript не исключение.

## Как создать регулярное выражение в JavaScript?

В JS есть два способа создания регулярного выражения.

### 1. Литерал (более распространенный и простой способ)

Регулярное выражение заключается в прямые слеши `/.../`.

```javascript
let regexp = /кофе/;
```
В этом примере мы создали простейшее регулярное выражение, которое ищет простое совпадение с строкой `"кофе"`.

### 2. Конструктор `RegExp`

Этот способ полезен, когда шаблон нужно создать динамически, из строки.

```javascript
let pattern = "кофе";
let regexp = new RegExp(pattern);
```
В этом случае `pattern` может быть любой строкой, что дает большую гибкость.

## Базовый синтаксис и поиск

Самый простой шаблон — это строка, которую мы хотим найти. Давайте проверим, есть ли в строке слово `"кофе"`.

```javascript
let str = "Я люблю пить кофе по утрам.";
let regexp = /кофе/;

// Метод test проверяет, есть ли хоть одно совпадение
let result = regexp.test(str);
console.log(result); // Выведет: true
```

Метод `.test()` возвращает `true`, если совпадение найдено, и `false` — если нет.

## Флаги: делаем поиск мощнее

Обычный поиск, как в примере выше, находит только первое совпадение и учитывает регистр символов (строчные и прописные буквы различаются). Чтобы это изменить, используются **флаги**. Они добавляются после закрывающего слеша.

### Основные флаги:

*   `i` (ignore case) — игнорирует регистр. `/кофе/i` найдет и «кофе», и «Кофе», и «КОФЕ».
*   `g` (global) — ищет все совпадения, а не только первое.
*   `m` (multiline) — многострочный режим (для работы с текстом, где есть переносы строк).

Флаги можно комбинировать.

**Пример с флагом `i`:**
```javascript
let str = "Я люблю пить КОФЕ по утрам.";
let regexp = /кофе/i; // Добавили флаг i

let result = regexp.test(str);
console.log(result); // Выведет: true, несмотря на заглавные буквы
```

**Пример создания с флагом через конструктор:**
```javascript
let regexp = new RegExp("кофе", "i"); // 'i' передается вторым аргументом
```

## Специальные символы (метасимволы)

Вся магия регулярок раскрывается с помощью специальных символов, которые означают не сами себя, а нечто большее. Рассмотрим два самых главных на старте.

### 1. Набор символов `[ ]`

Позволяет найти любой символ из тех, что указаны в квадратных скобках.

*   `/[кт]офе/` — найдет и **к**офе, и **т**офе.

Внутри скобок можно указывать диапазоны:
*   `[a-z]` — любая строчная латинская буква.
*   `[A-Z]` — любая заглавная латинская буква.
*   `[0-9]` — любая цифра. Эквивалентно `\d` (о котором мы поговорим позже).
*   `[а-я]` — любая строчная русская буква.
*   `[А-Я]` — любая заглавная русская буква.

**Пример:** Найдем все слова, которые начинаются на «к» или «т», а затем идут «офе».
```javascript
let str = "Я пью кофе, а мой друг пьет тофе.";
let regexp = /[кт]офе/g; // Используем набор и флаг g для поиска всех совпадений

let matches = str.match(regexp); // Метод match возвращает массив совпадений
console.log(matches); // Выведет: [ 'кофе', 'тофе' ]
```

### 2. Символ `.` (точка)

Означает **любой символ**, кроме перевода строки.

*   Шаблон `/ко.е/` найдет:
  *   кофе
  *   коде (если бы такое слово было)
  *   коше
  *   и даже `ко@е`

**Пример:**
```javascript
let str = "кофе, коде, коше, ко@е";
let regexp = /ко.е/g;

let matches = str.match(regexp);
console.log(matches); // Выведет: [ 'кофе', 'коде', 'коше', 'ко@е' ]
```
