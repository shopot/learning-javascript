# Циклы и объекты в JavaScript

В JavaScript объекты — это структуры данных, которые хранят свойства в виде пар **ключ-значение**. Иногда нам нужно перебрать все свойства объекта, не зная заранее, какие именно ключи в нём есть. В этой статье мы разберём, как работать с циклами и объектами, а также рассмотрим различные способы их перебора.

## Цикл `for...in`

Цикл `for...in` позволяет перебирать **ключи (названия свойств)** объекта. Он похож на `for...of`, но работает именно с объектами.

### Синтаксис

```javascript
for (let key in object) {
  // тело цикла
}
```

### Пример

```javascript
let car = {
  model: "Golf",
  make: "Volkswagen",
  year: 1999,
  color: "black",
};

for (let prop in car) {
  console.log(prop); // Выводит ключи: model, make, year, color
}

for (let prop in car) {
  console.log(car[prop]); // Выводит значения: Golf, Volkswagen, 1999, black
}
```

### Особенности

- `for...in` перебирает **только ключи**, а не значения.
- Если нужно получить значение, используйте `object[key]`.
- Не гарантирует порядок перебора (хотя в современных браузерах порядок обычно сохраняется).
- Не рекомендуется использовать для массивов, так как он возвращает индексы, а не значения.

## Преобразование объекта в массив для перебора

Если нужно перебирать объект с помощью `for...of` или методов массивов, можно преобразовать его в массив. Есть три основных способа:

### `Object.keys()` — перебор ключей

Метод `Object.keys(obj)` возвращает массив ключей объекта.

#### **Пример**
```javascript
let keys = Object.keys(car);
console.log(keys); // ['model', 'make', 'year', 'color']

// Перебор с for...of
for (let key of Object.keys(car)) {
  console.log(key); // model, make, year, color
}

// Перебор с for
for (let i = 0; i < keys.length; i++) {
  console.log(keys[i] + ": " + car[keys[i]]);
}
// Вывод:
// model: Golf
// make: Volkswagen
// year: 1999
// color: black
```

### `Object.values()` — перебор значений

Метод `Object.values(obj)` возвращает массив значений объекта.

#### Пример
```javascript
let values = Object.values(car);
console.log(values); // ['Golf', 'Volkswagen', 1999, 'black']

for (let value of Object.values(car)) {
  console.log(value); // Golf, Volkswagen, 1999, black
}
```

### `Object.entries()` — перебор ключей и значений

Метод `Object.entries(obj)` возвращает массив пар `[ключ, значение]`.

#### Пример

```javascript
let entries = Object.entries(car);
console.log(entries);
// [
//   ['model', 'Golf'],
//   ['make', 'Volkswagen'],
//   ['year', 1999],
//   ['color', 'black']
// ]

// Перебор с деструктуризацией
for (const [key, value] of Object.entries(car)) {
  console.log(key, ":", value);
}
// Вывод:
// model : Golf
// make : Volkswagen
// year : 1999
// color : black
```

## Когда какой способ использовать?

| **Метод**          | **Когда использовать**                          | **Пример**                          |
|---------------------|-----------------------------------------------|-------------------------------------|
| `for...in`          | Если нужно просто перебрать ключи объекта      | `for (let key in obj) { ... }`      |
| `Object.keys()`     | Если нужен массив ключей                       | `Object.keys(obj).forEach(...)`     |
| `Object.values()`   | Если нужен массив значений                     | `Object.values(obj).map(...)`       |
| `Object.entries()`  | Если нужны и ключи, и значения                 | `for (const [k, v] of entries)`     |

## Практические примеры

### Подсчёт количества свойств
```javascript
let car = { model: "Golf", make: "VW", year: 1999 };
let count = Object.keys(car).length;
console.log(count); // 3
```

### Фильтрация свойств объекта
```javascript
let user = { name: "Alice", age: 25, isAdmin: false };
let filtered = Object.fromEntries(
  Object.entries(user).filter(([key, val]) => typeof val === 'string')
);
console.log(filtered); // { name: "Alice" }
```

### Сумма значений числовых свойств
```javascript
let prices = { apple: 10, banana: 5, orange: 8 };
let total = Object.values(prices).reduce((sum, price) => sum + price, 0);
console.log(total); // 23
```

## Заключение

- **`for...in`** — простой способ перебора ключей объекта.
- **`Object.keys()`**, **`Object.values()`**, **`Object.entries()`** — методы для преобразования объекта в массив.
- Используйте **`Object.entries()`**, если нужны и ключи, и значения.
- Для сложных операций (фильтрация, поиск, агрегация) удобно комбинировать эти методы с методами массивов (`map`, `filter`, `reduce`).
